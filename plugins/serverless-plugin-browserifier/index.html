<!DOCTYPE html> <html> <head> <script type="text/javascript"> var host = 'www.serverlessconsultants.com'; if (host == window.location.host && window.location.protocol != 'https:') { window.location.protocol = 'https'; } </script> <meta charset="utf-8"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <meta name="description" content=""> <meta name="author" content="Serverless Directory"> <meta name="msvalidate.01" content="0C81C6A5BD3BAF86F4730D8C4A9BF223" /> <meta name="google-site-verification" content=""> <title>Serverless Plugin Browserifier - Serverless Plugin Directory</title> <!-- Google+ Authorship --> <link rel="author" href="Serverless Directory"> <link rel="publisher" href="Serverless Directory"> <!-- Canonical --> <link rel="canonical" href="https://www.serverlessconsultants.com/plugins/serverless-plugin-browserifier/"> <!-- Fonts --> <link href='https://fonts.googleapis.com/css?family=Libre+Franklin:400,100,100italic,200,200italic,300,300italic,400italic,500,600,500italic,600italic,700,700italic,800,900,800italic,900italic' rel='stylesheet' type='text/css'> <link href='https://fonts.googleapis.com/css?family=PT+Sans+Caption:400,700' rel='stylesheet' type='text/css'> <link href='https://fonts.googleapis.com/css?family=Patrick+Hand+SC' rel='stylesheet' type='text/css'> <!-- Styles --> <link rel="stylesheet" href=" /css/main.css "> <!-- Feed --> <link rel="alternate" type="application/rss+xml" title="ServerLess Directory" href="https://www.serverlessconsultants.com /feed.xml "> <!-- Fav Icon and Apple Touch Icons --> <link rel="icon" type="image/png" href="/img/favicon.png" sizes="128x128" /> <meta name="application-name" content="ServerLess Directory" /> <!-- Open Graph --> <meta property="og:title" content="Serverless Plugin Browserifier - Serverless Plugin Directory"> <meta property="og:site_name" content="ServerLess Directory"> <meta property="og:type" content="website"> <meta property="og:description" content="Open Issue Count: 1, Stargazer Count: 3, Forks Count: 2, Watchers Count: 3."> </head> <script type="text/javascript"> (function(i, s, o, g, r, a, m) { i['GoogleAnalyticsObject'] = r; (i[r] = i[r] || function() { (i[r].q = i[r].q || []).push(arguments); }), (i[r].l = 1 * new Date()); (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]); a.async = 1; a.src = g; m.parentNode.insertBefore(a, m); })( window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga' ); ga('create', 'UA-61052500-12', 'auto'); ga('send', 'pageview'); </script> <body> <!-- Navigation --> <header class="bg-white w-100 ph3 pv3 pv4-ns ph4-m ph5-l z-999 bb b--light-gray"> <nav class="tc"> <a class="dib no-underline v-mid tc bw1 ba b gold ph1 pv2 outline b--gold" href="/" rel="nofollow"> <div>SRVR</div> <div>LSS</div> </a> <a class="link dim black b f6 f5-ns dib mr3" href="/" title="Serverless Directory">Serverless Directory</a> <a class="link dim gray f6 f5-ns dib mr3" href="/plugins/">Serverless Plugins</a> <a class="link dim gray f6 f5-ns dib mr3" href="/frameworks/">Serverless Frameworks</a> <!-- <a class="link dim gray f6 f5-ns dib mr3" href="/consultants/">Serverless Consultants</a> --> <!-- <a class="link dim gray f6 f5-ns dib mr3" href="/contact" title="Contact Serverless Frameworks Directory">Contact</a> --> </nav> </header> <div class="mw8 center"> <h1 class="tc ma0">Serverless Plugin Browserifier</h1> <div class="tc"> <a rel="nofollow noreferrer noopener" href="https://github.com/digitalmaas/serverless-plugin-browserifier"> <img src="https://icon.now.sh/home" alt="homepage icon"> https://github.com/digitalmaas/serverless-plugin-browserifier </a> </div> <article class="ph3 ph5-ns"> <h3 class="f6 ma0 pa0 ttu tc tracked">Tracked</h3> <div class="cf tc"> <dl title="NPM Downloads Last Month: 167" class="db tc mb0 dib-l w-auto-l lh-title mr5-l"> <dd class="f6 fw4 ml0">NPM Downloads Last Month</dd> <dd class="f3 fw6 ml0">167</dd> </dl> <dl title="Open Issue Count: 1" class="fl fn-l w-50 mb0 dib-l w-auto-l lh-title mr5-l"> <dd class="f6 fw4 ml0">Issues</dd> <dd class="f3 fw6 ml0">1</dd> </dl> <dl title="Stargazer Count: 3" class="fl fn-l w-50 dib-l mb0 w-auto-l lh-title mr5-l"> <dd class="f6 fw4 ml0">Stars</dd> <dd class="f3 fw6 ml0">3</dd> </dl> <dl title="Forks Count: 2" class="fl fn-l w-50 dib-l w-auto-l mb0 lh-title mr5-l"> <dd class="f6 fw4 ml0">Forks</dd> <dd class="f3 fw6 ml0">2</dd> </dl> <dl title="Watchers Count: 3" class="fl fn-l w-50 dib-l w-auto-l mb0 lh-title"> <dd class="f6 fw4 ml0">Watchers</dd> <dd class="f3 fw6 ml0">3</dd> </dl> </div> </article> <!-- TODO: FIX THIS --> <div class="cf tc mw6 center dn"> </div> </div> <h3 class="tc">Repo README Contents:</h3> <section class="mw8 center ph3 pv2 overflow-x-scroll ba br3" id="readme-content"> <h1 id="serverless-browserifier-plugin">Serverless Browserifier Plugin</h1> <p><a href="http://www.serverless.com"><img src="https://img.shields.io/badge/serverless-%E2%9A%A1-yellow.svg?colorB=555555&amp;style=flat-square" alt="serverless" /></a> <a href="https://www.npmjs.com/package/serverless-plugin-browserifier"><img src="https://img.shields.io/npm/v/serverless-plugin-browserifier.svg?style=flat-square" alt="NPM version" /></a> <a href="https://digitalmaas.com/"><img src="https://img.shields.io/badge/sponsored%20by-digitalmaas-green.svg?colorB=00CD98&amp;style=flat-square" alt="digitalmaas" /></a> <a href="https://www.npmjs.com/package/serverless-plugin-browserifier"><img src="https://img.shields.io/npm/dm/serverless-plugin-browserifier.svg?style=flat-square" alt="NPM downloads" /></a> <a href="https://standardjs.com/"><img src="https://img.shields.io/badge/code_style-standard-brightgreen.svg?style=flat-square" alt="standardjs" /></a></p> <p>A <a href="https://serverless.com">Serverless</a> v1 plugin that uses <a href="http://browserify.org/">Browserify</a> to bundle your Node.js Lambda functions.</p> <p>This project has been forked from the original <a href="https://github.com/doapp-ryanp/serverless-plugin-browserify">serverless-plugin-browserify</a> by <em>Ryan Pendergast</em> and published under a different name.</p> <h2 id="motivation">Motivation</h2> <p>Lambda functions with smaller code start and run faster.</p> <p>With the example <code class="highlighter-rouge">package.json</code> and javascript code below, the default packaging for Node.js lambdas in Serverless produces a zip file that is <strong>11.3 MB</strong>, because it blindly includes all of <code class="highlighter-rouge">node_modules</code> in the zip package.</p> <p>This plugin with 2 lines of configuration produces a zip file that is <strong>400 KB!</strong></p> <div class="language-json highlighter-rouge"><pre class="highlight"><code><span class="err">...</span><span class="w">
  </span><span class="s2">"dependencies"</span><span class="err">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nt">"aws-sdk"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^2.6.12"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"moment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^2.15.2"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"request"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^2.75.0"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"rxjs"</span><span class="p">:</span><span class="w"> </span><span class="s2">"^5.0.0-rc.1"</span><span class="w">
  </span><span class="p">}</span><span class="err">,</span><span class="w">
</span><span class="err">...</span><span class="w">
</span></code></pre></div> <div class="language-javascript highlighter-rouge"><pre class="highlight"><code><span class="kr">const</span> <span class="nx">Rx</span>      <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'rxjs/Rx'</span><span class="p">);</span>
<span class="kr">const</span> <span class="nx">request</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'request'</span><span class="p">);</span>
<span class="p">...</span>
</code></pre></div> <p>Even if you choose to manually prepare your packages with <code class="highlighter-rouge">package[include|exclude]</code>, you will still have to take care of that for each single function individually, and manually. This is specially hard after <code class="highlighter-rouge">npm</code> 3, due to dependency tree flattening.</p> <p>Also, AWS Lambda has an account-wide <a href="http://docs.aws.amazon.com/lambda/latest/dg/limits.html">deployment package size limit</a>.</p> <p>Mind that <a href="https://github.com/aws/aws-sdk-js">aws-sdk-js</a> now officially <a href="https://github.com/aws/aws-sdk-js/issues/696">supports browserify</a>. Read more about this in <a href="https://rynop.wordpress.com/2016/11/01/aws-sdk-for-javascript-now-fully-componentized/">on this article</a>.</p> <h2 id="installation">Installation</h2> <p>From your target serverless project, run:</p> <div class="highlighter-rouge"><pre class="highlight"><code>npm install serverless-plugin-browserifier --save-dev
</code></pre></div> <p>Add the plugin to your <code class="highlighter-rouge">serverless.yml</code> file and set <code class="highlighter-rouge">package.individually</code> to <code class="highlighter-rouge">true</code>:</p> <div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">plugins</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s">serverless-plugin-browserifier</span>
<span class="s">package</span><span class="pi">:</span>
  <span class="s">individually</span><span class="pi">:</span> <span class="s">true</span>
</code></pre></div> <p>The property <code class="highlighter-rouge">package.individually</code> must be set because it makes configuration more straightforward, and if you are not packaging individually size is not a concern of yours in the first place.</p> <h2 id="configuration">Configuration</h2> <p>For most use cases you should <strong>NOT</strong> need to do any configuration. You can, however, introduce custom configuration.</p> <p>The base config for browserify is read from the <code class="highlighter-rouge">custom.browserify</code> section of <code class="highlighter-rouge">serverless.yml</code>. All <a href="https://github.com/substack/node-browserify#browserifyfiles--opts">browserify options</a> are supported (most are auto configured by this plugin). This plugin adds one special option <code class="highlighter-rouge">disable</code> which if <code class="highlighter-rouge">true</code> will bypass this plugin.</p> <p>The base config can be overridden on a function-by-function basis. Again, <code class="highlighter-rouge">custom.browserify</code> is not required and should not even need to be defined in most cases.</p> <div class="language-yaml highlighter-rouge"><pre class="highlight"><code><span class="s">custom</span><span class="pi">:</span>
  <span class="s">browserify</span><span class="pi">:</span>
    <span class="c1">#any option defined in https://github.com/substack/node-browserify#browserifyfiles--opts</span>

<span class="s">functions</span><span class="pi">:</span>
    <span class="s">usersGet</span><span class="pi">:</span>
      <span class="s">name</span><span class="pi">:</span> <span class="s">${self:provider.stage}-${self:service}-pageGet</span>
      <span class="s">description</span><span class="pi">:</span> <span class="s">get user</span>
      <span class="s">handler</span><span class="pi">:</span> <span class="s">users/handler.hello</span>      
      <span class="s">browserify</span><span class="pi">:</span>
        <span class="s">noParse</span><span class="pi">:</span>
          <span class="pi">-</span> <span class="s">./someBig.json</span>  <span class="c1">#browserify can't optimize json, will take long time to parse for nothing      </span>
</code></pre></div> <p>If you find a package that is not supported or does not behave well with browserify, you can still use function level <code class="highlighter-rouge">package.include</code> to include extra modules and files to your package. That said, you are encouraged to verify if you specific case can be dealt with by leveraging all available <a href="https://github.com/substack/node-browserify#browserifyfiles--opts">browserify options</a> in your <code class="highlighter-rouge">serverless.yml</code> custom <code class="highlighter-rouge">browserify</code> section.</p> <h2 id="usage">Usage</h2> <p>When this plugin is enabled, and <code class="highlighter-rouge">package.individually</code> is <code class="highlighter-rouge">true</code>, running <code class="highlighter-rouge">serverless deploy</code> and <code class="highlighter-rouge">serverless deploy -f &lt;funcName&gt;</code> will automatically browserify your Node.js lambda code.</p> <p>If you want to see more information about the process, simply set <code class="highlighter-rouge">SLS_DEBUG=*</code>. Example:</p> <div class="highlighter-rouge"><pre class="highlight"><code>$ export SLS_DEBUG=*
$ sls deploy function -v -f usersGet
</code></pre></div> <h2 id="faq">FAQ</h2> <p><strong>Should I use Webpack instead of this plugin?</strong></p> <p>Browserify, in general, supports more modules, optimises better (generates smaller bundles), and requires less configuration. <a href="https://webpack.github.io/">Webpack</a> is an amazing tool, but it comes with several extras that are not really needed within a pure Node.js environment.</p> <p><strong>What about uglification?</strong></p> <p>You should be able to use <a href="https://www.npmjs.com/package/uglify-es"><code class="highlighter-rouge">uglify-es</code></a> through <a href="https://www.npmjs.com/package/uglifyify"><code class="highlighter-rouge">uglifyify</code></a>.</p> <p><strong>And what about babel?</strong></p> <p>I believe that <a href="https://www.npmjs.com/package/babelify"><code class="highlighter-rouge">babelify</code></a> should do the trick, although I donâ€™t see any reason for it. AWS Lambda already supports Node.js 6.10, with enough ES-next goodies that allows us to avoid transpilers.</p> <h2 id="license">License</h2> <p>MIT License. <br /> For the complete information, please refer to the <a href="./LICENSE">license</a> file.</p> </section> <footer class="cf w-100"> <div class="cover bg-left bg-center-l pv5" style="background-image: url(/img/bg.png)"> <form action="//tachyonstemplates.us16.list-manage.com/subscribe/post?u=3ff847fac68c99ba4cbf378be&amp;id=8eb026def6" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="center pa3" target="_blank" novalidate> <div> <h3 class="pa0 f3 f2-ns mb3 mt0 white tc">Want more Serverless?</h3> <h5 class="pa0 f4 f3-ns mb3 white tc">Subscribe to our mailing list to receive an update when new items arrive!</h5> <div class="cf mw7 center"> <label class="clip" for="email-address">Email Address</label> <input placeholder="Your Email Address" type="email" name="EMAIL" class="f6 f5-l input-reset bn fl black-80 bg-white pa3 lh-solid w-100 w-75-m w-80-l br2-ns br--left-ns"> <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups--> <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_3ff847fac68c99ba4cbf378be_8eb026def6" tabindex="-1" value=""></div> <input class="f6 f5-l button-reset fl pv3 tc bn bg-animate bg-black-70 hover-bg-black white pointer w-100 w-25-m w-20-l br2-ns br--right-ns" name="subscribe" type="submit" value="Subscribe"> </div> </div> </form> </div> <div class="pb4 pt2 ph3 ph5-ns tc lh-copy"> <a class="pv2 db ph3 dim" href="/">Serverless Directory - Plugins, Frameworks, Consultants</a> <a class="pv2 db ph3 dim" href="/frameworks/">Serverless Frameworks Directory</a> <a class="pv2 db ph3 dim" href="/plugins/">Serverless Plugin Directory</a> <a class="pv2 db ph3 dim" href="/plugins/topics/">Serverless Plugin Topics</a> </div> </footer> <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script> <!-- keeping this here for prosperity --> </body> </html>
